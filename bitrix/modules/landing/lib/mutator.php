<? namespace Bitrix\Landing;$GLOBALS['____360918762']= array(base64_decode('ZG'.'Vma'.'W5'.'l'),base64_decode('ZXh'.'w'.'bG9kZ'.'Q='.'='),base64_decode('cGF'.'jaw=='),base64_decode(''.'bWQ'.'1'),base64_decode('Y29uc3'.'RhbnQ'.'='),base64_decode('aG'.'FzaF9obWFj'),base64_decode('c3'.'Ry'.'Y21w'),base64_decode(''.'ZX'.'hwbG9kZQ=='),base64_decode(''.'bW'.'t0aW1l'),base64_decode('dGlt'.'Z'.'Q='.'='),base64_decode('Z'.'X'.'hwbG9kZQ=='),base64_decode('cGFjaw'.'=='),base64_decode(''.'b'.'WQ1'),base64_decode(''.'Y29'.'uc3R'.'hbnQ'.'='),base64_decode('a'.'GFzaF9obWFj'),base64_decode('c3RyY21w'),base64_decode('ZXhwbG9kZQ'.'=='),base64_decode('bWt0'.'aW1l'),base64_decode('dGltZ'.'Q=='),base64_decode('aW'.'5fYX'.'Jy'.'YXk='),base64_decode('cH'.'JlZ19yZXBsYWNl'.'X2'.'NhbGx'.'iYWNr'),base64_decode('c'.'3Ry'.'dG9s'.'b3dlcg=='),base64_decode('cH'.'J'.'lZ19tY'.'XRjaA'.'=='),base64_decode('c'.'HJ'.'lZ19yZXB'.'sYW'.'NlX2N'.'hb'.'Gxi'.'Y'.'WNr'));if(!function_exists(__NAMESPACE__.'\\___169347952')){function ___169347952($_1629118180){static $_808850651= false; if($_808850651 == false) $_808850651=array('TE'.'FOREl'.'OR'.'19'.'NV'.'VRBV'.'E9S'.'X0'.'1'.'P'.'RE'.'U=','b'.'G'.'FuZGluZw==','b25MYW5kaW5nUH'.'Vi'.'bGljYX'.'Rpb24=','a'.'WQ=','RE'.'I=',''.'U0V'.'MR'.'UNUIFZBTF'.'VFIE'.'Z'.'ST'.'00'.'g'.'Y'.'l9'.'vcH'.'R'.'p'.'b24g'.'V'.'0'.'hFUkU'.'g'.'TkFNRT0nf'.'lBBUkF'.'N'.'X'.'0ZJTklTSF9EQV'.'RFJy'.'B'.'BT'.'kQgTU'.'9EV'.'UxFX0lEPS'.'dtY'.'WluJyBB'.'TkQgU0lURV9JR'.'CBJUyBOVUxM','V'.'k'.'FM'.'VU'.'U=','Lg'.'==','SCo=','Yml'.'0cml4','T'.'ElDRU5TRV9LRVk=','c2'.'hh'.'MjU2','MjAxO'.'C0wMS0w'.'MQ'.'==','MjAxO'.'C0w'.'MS0w'.'MQ==','LQ==','TElDRU'.'5T'.'RV9F'.'WFBJUk'.'VE','T'.'EFOR'.'ElOR19M'.'SUNF'.'Tl'.'N'.'FX'.'0VYUElSRU'.'Q=','RE'.'I=','U0VM'.'R'.'UNUIFZB'.'TFVFI'.'EZST0'.'0g'.'Yl9v'.'cHRpb24'.'gV0hFUkUgTkFNRT0n'.'flBBUkFNX0ZJTkl'.'TSF9EQVRF'.'Jy'.'BBT'.'kQg'.'T'.'U9'.'EVUxFX'.'0lEP'.'SdtYWluJyBBTkQg'.'U0l'.'URV'.'9'.'JRCB'.'JUyBOVUxM','VkFMVUU=','Lg='.'=','SCo=','Yml'.'0cml4',''.'T'.'El'.'D'.'RU'.'5TRV9LRVk'.'=',''.'c2hhMjU2','M'.'jA'.'xOC0wM'.'S0wMQ='.'=','M'.'jAxO'.'C'.'0wMS0wMQ='.'=','LQ==','TElDRU5'.'TRV'.'9FWFBJUkVE','TEFO'.'RElOR19MS'.'UN'.'F'.'TlNFX0'.'VYU'.'E'.'lSRUQ=','UFVCTElD','WQ==','RE'.'FURV9'.'NT0R'.'J'.'Rl'.'k=',''.'REF'.'U'.'RV9QVUJMSUM=','L'.'y'.'IjYmxvY2soW1xkX'.'SspIi'.'9'.'pcw==',''.'c2V'.'sZW'.'N0','SUQ=','UFV'.'CTElD',''.'UEFSRU'.'5UX0l'.'E',''.'Q'.'0'.'9E'.'RQ==','U0'.'9SVA='.'=','Q'.'UNUS'.'V'.'Z'.'F','QUNDRVN'.'T',''.'Q09OVEVOVA='.'=','Zml'.'sd'.'GVy','TElE',''.'P'.'UR'.'FTEVURUQ=','T'.'g==','SUQ=','U'.'F'.'VCTElD','WQ'.'==',''.'Q09OVEVOVA==',''.'L'.'2hyZWZcPSIj'.'Y'.'2F0YWxvZyhFbGVtZ'.'W50fFNl'.'Y3Rpb24pKFtc'.'Z'.'F'.'0r'.'KSIvaQ='.'=','aHJlZ'.'j0'.'=','Q09OV'.'E'.'VOVA==','UEFSRU5'.'UX'.'0'.'lE','UEFSRU5UX0lE',''.'SUQ=','U'.'09'.'SV'.'A==','U0'.'9SVA==',''.'QU'.'NUSVZ'.'F','Q'.'UNUSVZF',''.'Q'.'UNDRVNT','Q'.'U'.'NDRVNT','Q'.'09OVEVOVA'.'==','Q'.'09OVEV'.'O'.'VA==','UEFSR'.'U'.'5UX0'.'l'.'E','Q09'.'OVEVO'.'VA'.'==','TE'.'lE','Q09'.'ERQ'.'==','Q'.'09ERQ==','U09SVA='.'=','U09SVA==','Q'.'U'.'N'.'U'.'SVZF','QUNUSV'.'ZF','QUNDRVNT','QUN'.'DRV'.'NT',''.'Q09OVEVOVA==','Q0'.'9OV'.'EVOV'.'A==',''.'UEF'.'SRU5UX0lE','Q09'.'O'.'V'.'EVOVA'.'==','Q09'.'OVEVOVA='.'=','Q09OVEV'.'OVA='.'=','I'.'iNi'.'bG9jaw==',''.'Ig==','IiNibG9jaw='.'=','Ig'.'='.'=',''.'Q09OVE'.'VOVA'.'==');return base64_decode($_808850651[$_1629118180]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____360918762'][0](___169347952(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_140158476= array();  $_23459772= new Event(___169347952(1), ___169347952(2), array( ___169347952(3) => $landing->getId())); $_23459772->send(); foreach($_23459772->getResults() as $_169001856){ if($_169001856->getResultType() == EventResult::ERROR){ foreach($_169001856->getErrors() as $_441255421){ $landing->getError()->addError( $_441255421->getCode(), $_441255421->getMessage());} return false;}} $_567191561= $GLOBALS[___169347952(4)]->Query(___169347952(5), true); if($_1651569975= $_567191561->Fetch()){ $_2082902758= $_1651569975[___169347952(6)]; list($_1622577746, $_1988692680)= $GLOBALS['____360918762'][1](___169347952(7), $_2082902758); $_387480971= $GLOBALS['____360918762'][2](___169347952(8), $_1622577746); $_920539711= ___169347952(9).$GLOBALS['____360918762'][3]($GLOBALS['____360918762'][4](___169347952(10))); $_1937391140= $GLOBALS['____360918762'][5](___169347952(11), $_1988692680, $_920539711, true); if($GLOBALS['____360918762'][6]($_1937391140, $_387480971) !==(241*2-482)){ $_1988692680= ___169347952(12);}} else{ $_1988692680= ___169347952(13);} if(!empty($_1988692680)){ $_144169091= $GLOBALS['____360918762'][7](___169347952(14), $_1988692680); $_87052768= $GLOBALS['____360918762'][8]((850-2*425),(1024/2-512),(942-2*471), $_144169091[round(0+0.2+0.2+0.2+0.2+0.2)], $_144169091[round(0+2)], $_144169091[(994-2*497)]); if($_87052768 <= $GLOBALS['____360918762'][9]()){ $landing->getError()->addError( ___169347952(15), Loc::getMessage(___169347952(16))); return false;}} $_567191561= $GLOBALS[___169347952(17)]->Query(___169347952(18), true); if($_1651569975= $_567191561->Fetch()){ $_2082902758= $_1651569975[___169347952(19)]; list($_1622577746, $_1988692680)= $GLOBALS['____360918762'][10](___169347952(20), $_2082902758); $_387480971= $GLOBALS['____360918762'][11](___169347952(21), $_1622577746); $_920539711= ___169347952(22).$GLOBALS['____360918762'][12]($GLOBALS['____360918762'][13](___169347952(23))); $_1937391140= $GLOBALS['____360918762'][14](___169347952(24), $_1988692680, $_920539711, true); if($GLOBALS['____360918762'][15]($_1937391140, $_387480971) !==(172*2-344)){ $_1988692680= ___169347952(25);}} else{ $_1988692680= ___169347952(26);} if(!empty($_1988692680)){ $_144169091= $GLOBALS['____360918762'][16](___169347952(27), $_1988692680); $_87052768= $GLOBALS['____360918762'][17]((170*2-340),(936-2*468),(792-2*396), $_144169091[round(0+0.5+0.5)], $_144169091[round(0+2)], $_144169091[(231*2-462)]); if($_87052768 <= $GLOBALS['____360918762'][18]()){ $landing->getError()->addError( ___169347952(28), Loc::getMessage(___169347952(29))); return false;}}  Block::publicationBlocks($landing); $_1118152596= new \Bitrix\Main\Type\DateTime; $_1651569975= Landing::update($landing->getId(), array( ___169347952(30) => ___169347952(31), ___169347952(32) => $_1118152596, ___169347952(33) => $_1118152596));  if($_1651569975->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____360918762'][19]($landing->getSiteId(), $_140158476)){ $_140158476[]= $landing->getSiteId(); Site::update($landing->getSiteId(), array());} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_995535599= $landing->getId(); $_1358578418= array(); $_34437926= array(); $_484055748= array(); $_513057325= ___169347952(34); $_1651569975= Block::getList(array( ___169347952(35) => array( ___169347952(36), ___169347952(37), ___169347952(38), ___169347952(39), ___169347952(40), ___169347952(41), ___169347952(42), ___169347952(43)), ___169347952(44) => array( ___169347952(45) => $landing->getId(), ___169347952(46) => ___169347952(47)))); while($_58702139= $_1651569975->fetch()){ $_1358578418[$_58702139[___169347952(48)]]= $_58702139;}  foreach($_1358578418 as $_262486173 => $_416123650){ if($_416123650[___169347952(49)] != ___169347952(50)){  $_416123650[___169347952(51)]= $GLOBALS['____360918762'][20]( ___169347952(52), function($_318285701){ return ___169347952(53). Node\Component::getIblockURL( $_318285701[round(0+1+1)], $GLOBALS['____360918762'][21]($_318285701[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]));}, $_416123650[___169347952(54)]); $_613403234= isset($_1358578418[$_416123650[___169347952(55)]])? $_1358578418[$_416123650[___169347952(56)]][___169347952(57)]:(880-2*440); if($_613403234){ Block::update($_613403234, array( ___169347952(58) => $_416123650[___169347952(59)], ___169347952(60) => $_416123650[___169347952(61)], ___169347952(62) => $_416123650[___169347952(63)], ___169347952(64) => $_416123650[___169347952(65)])); unset($_1358578418[$_416123650[___169347952(66)]]);  File::replaceInBlock( $_613403234, File::getFilesFromBlockContent( $_262486173, $_416123650[___169347952(67)]));} else{ $_1651569975= Block::add(array( ___169347952(68) => $_995535599, ___169347952(69) => $_416123650[___169347952(70)], ___169347952(71) => $_416123650[___169347952(72)], ___169347952(73) => $_416123650[___169347952(74)], ___169347952(75) => $_416123650[___169347952(76)], ___169347952(77) => $_416123650[___169347952(78)])); if($_1651569975->isSuccess()){ $_613403234= $_1651569975->getId(); Block::update($_262486173, array( ___169347952(79) => $_613403234));  File::addToBlock( $_613403234, File::getFilesFromBlockContent( $_262486173, $_416123650[___169347952(80)]));}} if($GLOBALS['____360918762'][22]($_513057325, $_416123650[___169347952(81)])){ $_34437926[$_613403234]= $_416123650[___169347952(82)];} $_484055748[$_262486173]= $_613403234; unset($_1358578418[$_262486173]);}}  foreach($_1358578418 as $_262486173 => $_416123650){ Block::delete($_262486173);}  foreach($_34437926 as $_262486173 => $_1038110397){ $_1038110397= $GLOBALS['____360918762'][23]( $_513057325, function($_1897484914) use($_484055748){ if(isset($_484055748[$_1897484914[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]])){ return ___169347952(83). $_484055748[$_1897484914[round(0+0.25+0.25+0.25+0.25)]]. ___169347952(84);} else{ return ___169347952(85). $_1897484914[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]. ___169347952(86);}}, $_1038110397); Block::update($_262486173, array( ___169347952(87) => $_1038110397));}}}}?>